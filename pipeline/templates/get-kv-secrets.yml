# Azure DevOps template for retrieving Key Vault secrets
parameters:
  - name: azureSubscription
    type: string
  - name: KeyVaultName
    type: string
  - name: SecretsFilter
    type: string
    default: '*'
  - name: RunAsPreJob
    type: boolean
    default: true

steps:
- task: AzureKeyVault@2
  displayName: 'Get KV Secrets'
  inputs:
    azureSubscription: ${{ parameters.azureSubscription }}
    KeyVaultName: ${{ parameters.KeyVaultName }}
    SecretsFilter: ${{ parameters.SecretsFilter }}
    RunAsPreJob: ${{ parameters.RunAsPreJob }}
